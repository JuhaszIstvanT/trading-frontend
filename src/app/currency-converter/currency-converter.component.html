<div class="container mt-5">
  <div class="card p-3">
    <h4 class="mb-4">Currency Converter</h4>
    <div class="form-group mb-3">
      <label for="amountInput">Amount</label>
      <div class="input-group">
        <input
          id="amountInput"
          type="number"
          class="form-control"
          [(ngModel)]="selectedAmount"
          (input)="onAmountChange($event)"
        />
      </div>
      <div *ngIf="amountError" class="text-danger">{{ amountError }}</div>
    </div>
    <div class="form-group mb-3">
      <label for="targetCurrencyInput">To</label>
      <div class="input-group">
        <select
          class="form-select"
          [(ngModel)]="targetCurrency"
          (change)="onCurrencyChange($event)"
        >
          <option value="usd">USD</option>
          <option value="eur">EUR</option>
          <option value="btc">BTC</option>
          <option value="eth">ETH</option>
        </select>
        <div class="input-group-append">
          <span class="input-group-text">{{
            convertedAmount | number : "1.2-2"
          }}</span>
        </div>
      </div>
    </div>
    <div class="mt-3 text-center">
      <p>
        1 {{ selectedCurrency.toUpperCase() }} =
        {{ selectedCurrencyValue | number : "1.2-2" }}
        {{ targetCurrency.toUpperCase() }}
      </p>
      <p class="text-muted">
        Rate is for reference only. Updated 10 seconds ago
      </p>
    </div>
    <div class="d-grid gap-2">
      <button class="btn btn-primary btn-block" (click)="onTrade()">
        Buy {{ selectedCurrency.toUpperCase() }}
      </button>
    </div>
    <div class="mt-3" *ngIf="successMessage">
      <div class="alert alert-success">{{ successMessage }}</div>
    </div>
    <div class="mt-3" *ngIf="errorMessage">
      <div class="alert alert-danger">{{ errorMessage }}</div>
    </div>
  </div>
</div>
